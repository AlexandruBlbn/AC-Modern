<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>13.4.1 - Concepte de BazÄƒ ale Memoriei Virtuale</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/lesson.css">
</head>
<body>
    <article class="lesson-container">
        <header class="lesson-header">
            <span class="lesson-badge">LecÈ›ia 13.4.1</span>
            <h1 class="lesson-title">Concepte de BazÄƒ ale Memoriei Virtuale</h1>
            <p class="lesson-subtitle">Fundamente ale sistemului de memorie virtualÄƒ</p>
        </header>

        <section class="section" id="introducere">
            <h2 class="section-title">Ce este Memoria VirtualÄƒ?</h2>
            <p class="text-content">
                <strong>Memoria virtualÄƒ</strong> este o tehnicÄƒ care oferÄƒ fiecÄƒrui proces iluzia 
                cÄƒ are acces la un spaÈ›iu de adrese mare, contiguu È™i privat, independent de 
                cantitatea realÄƒ de memorie fizicÄƒ disponibilÄƒ Ã®n sistem.
            </p>

            <div class="definition-box">
                <p class="definition-label">DefiniÈ›ie</p>
                <p class="definition-text">
                    Memoria virtualÄƒ este un mecanism hardware-software care permite executarea 
                    programelor mai mari decÃ¢t memoria fizicÄƒ disponibilÄƒ, prin maparea automatÄƒ 
                    a adreselor virtuale Ã®n adrese fizice È™i prin stocarea temporarÄƒ a porÈ›iunilor 
                    inactive pe disc.
                </p>
            </div>
        </section>

        <section class="section" id="motivatie">
            <h2 class="section-title">De ce Memorie VirtualÄƒ?</h2>

            <div class="card-grid">
                <div class="info-card">
                    <div class="card-icon">ğŸ“¦</div>
                    <h3 class="card-title">Programe Mai Mari</h3>
                    <p class="card-text">
                        Permite executarea programelor care necesitÄƒ mai multÄƒ memorie decÃ¢t 
                        RAM-ul fizic disponibil. PÄƒrÈ›ile inactive sunt mutate pe disc.
                    </p>
                </div>
                <div class="info-card">
                    <div class="card-icon">ğŸ”’</div>
                    <h3 class="card-title">ProtecÈ›ie È™i Izolare</h3>
                    <p class="card-text">
                        Fiecare proces are propriul spaÈ›iu de adrese izolat. Un proces nu poate 
                        accesa memoria altui proces fÄƒrÄƒ permisiune explicitÄƒ.
                    </p>
                </div>
                <div class="info-card">
                    <div class="card-icon">ğŸ”„</div>
                    <h3 class="card-title">Relocare</h3>
                    <p class="card-text">
                        Programele pot fi Ã®ncÄƒrcate oriunde Ã®n memoria fizicÄƒ fÄƒrÄƒ modificÄƒri. 
                        Maparea virtualÄƒ â†’ fizicÄƒ se face la runtime.
                    </p>
                </div>
                <div class="info-card">
                    <div class="card-icon">ğŸ¤</div>
                    <h3 class="card-title">Partajare</h3>
                    <p class="card-text">
                        Permite partajarea memoriei Ã®ntre procese (biblioteci, memorie partajatÄƒ) 
                        mapÃ¢nd aceeaÈ™i paginÄƒ fizicÄƒ Ã®n spaÈ›ii virtuale diferite.
                    </p>
                </div>
            </div>
        </section>

        <section class="section" id="adrese">
            <h2 class="section-title">Adrese Virtuale vs Fizice</h2>
            
            <p class="text-content">
                Sistemul de memorie virtualÄƒ lucreazÄƒ cu douÄƒ tipuri de adrese:
            </p>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>CaracteristicÄƒ</th>
                        <th>Adrese Virtuale</th>
                        <th>Adrese Fizice</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>VÄƒzute de</strong></td>
                        <td>Program/CPU</td>
                        <td>Controller memorie/RAM</td>
                    </tr>
                    <tr>
                        <td><strong>SpaÈ›iu</strong></td>
                        <td>2^n (64 biÈ›i = 16 EB teoretic)</td>
                        <td>Limitat de RAM instalat</td>
                    </tr>
                    <tr>
                        <td><strong>Continuitate</strong></td>
                        <td>Aparent contiguu</td>
                        <td>Poate fi fragmentat</td>
                    </tr>
                    <tr>
                        <td><strong>Per proces</strong></td>
                        <td>SpaÈ›iu privat complet</td>
                        <td>Partajat de toate procesele</td>
                    </tr>
                </tbody>
            </table>

            <div class="code-block">
<pre>Traducere AdresÄƒ (Address Translation):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AdresÄƒ VirtualÄƒ    â”‚â”€â”€â”€â”€>â”‚   MMU (Hardware)    â”‚â”€â”€â”€â”€>â”‚  AdresÄƒ FizicÄƒ      â”‚
â”‚  (de la CPU)        â”‚     â”‚   + Page Tables     â”‚     â”‚  (cÄƒtre RAM)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      0x7FFF1234                                              0x123F1234</pre>
            </div>
        </section>

        <section class="section" id="mmu">
            <h2 class="section-title">Memory Management Unit (MMU)</h2>
            
            <div class="definition-box">
                <p class="definition-label">DefiniÈ›ie</p>
                <p class="definition-text">
                    <strong>MMU</strong> (Memory Management Unit) este componenta hardware care 
                    traduce adresele virtuale Ã®n adrese fizice. Ãn procesoarele moderne, MMU 
                    este integrat Ã®n CPU.
                </p>
            </div>

            <p class="text-content">
                FuncÈ›iile principale ale MMU:
            </p>
            <ul class="content-list">
                <li><strong>Traducerea adreselor:</strong> Virtual â†’ Fizic</li>
                <li><strong>Verificarea permisiunilor:</strong> Read, Write, Execute</li>
                <li><strong>Detectarea page fault:</strong> CÃ¢nd pagina nu e Ã®n RAM</li>
                <li><strong>Caching traduceri:</strong> Ãn TLB (Translation Lookaside Buffer)</li>
            </ul>
        </section>

        <section class="section" id="concepte">
            <h2 class="section-title">Concepte Fundamentale</h2>

            <div class="accordion">
                <div class="accordion-item">
                    <button class="accordion-header">
                        <span>ğŸ“„ PaginÄƒ (Page)</span>
                        <span class="icon-plus">+</span>
                    </button>
                    <div class="accordion-content">
                        <div class="accordion-body">
                            <p>
                                Unitatea de bazÄƒ a memoriei virtuale. SpaÈ›iul de adrese virtual este 
                                Ã®mpÄƒrÈ›it Ã®n pagini de dimensiune fixÄƒ (tipic 4 KB, dar È™i 2 MB sau 1 GB 
                                pentru "huge pages").
                            </p>
                            <p><strong>Dimensiuni tipice:</strong> 4 KB (standard), 2 MB, 1 GB (huge pages)</p>
                        </div>
                    </div>
                </div>

                <div class="accordion-item">
                    <button class="accordion-header">
                        <span>ğŸ–¼ï¸ Frame (Cadru)</span>
                        <span class="icon-plus">+</span>
                    </button>
                    <div class="accordion-content">
                        <div class="accordion-body">
                            <p>
                                Echivalentul fizic al paginii. Memoria fizicÄƒ este Ã®mpÄƒrÈ›itÄƒ Ã®n cadre 
                                de aceeaÈ™i dimensiune ca paginile. O paginÄƒ poate fi plasatÄƒ Ã®n orice 
                                frame disponibil.
                            </p>
                            <p><strong>Mapare:</strong> Pagina N virtualÄƒ â†’ Frame M fizic (fÄƒrÄƒ restricÈ›ii)</p>
                        </div>
                    </div>
                </div>

                <div class="accordion-item">
                    <button class="accordion-header">
                        <span>ğŸ“‹ Page Table (Tabelul de Pagini)</span>
                        <span class="icon-plus">+</span>
                    </button>
                    <div class="accordion-content">
                        <div class="accordion-body">
                            <p>
                                Structura de date (menÈ›inutÄƒ Ã®n memorie) care conÈ›ine mapÄƒrile 
                                paginÄƒ â†’ frame pentru fiecare proces. Fiecare intrare (PTE - Page Table 
                                Entry) conÈ›ine:
                            </p>
                            <ul>
                                <li>NumÄƒrul frame-ului fizic</li>
                                <li>Bit valid/prezent</li>
                                <li>BiÈ›i de permisiuni (R/W/X)</li>
                                <li>BiÈ›i de referinÈ›Äƒ È™i dirty</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="accordion-item">
                    <button class="accordion-header">
                        <span>âš ï¸ Page Fault</span>
                        <span class="icon-plus">+</span>
                    </button>
                    <div class="accordion-content">
                        <div class="accordion-body">
                            <p>
                                ExcepÈ›ie generatÄƒ cÃ¢nd se acceseazÄƒ o paginÄƒ care nu este Ã®n memorie 
                                (bit valid = 0). Sistemul de operare trateazÄƒ fault-ul: aduce pagina 
                                de pe disc, actualizeazÄƒ page table, reia instrucÈ›iunea.
                            </p>
                            <p><strong>Cost:</strong> ~10 ms (milisecunde!) - extrem de costisitor!</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="section" id="ierarhie">
            <h2 class="section-title">Memoria VirtualÄƒ Ã®n Ierarhie</h2>
            
            <div class="info-box info-blue">
                <p class="info-title">ğŸ“Š Memoria VirtualÄƒ ca Nivel de Cache</p>
                <p>
                    Conceptual, memoria virtualÄƒ poate fi vÄƒzutÄƒ ca un nivel suplimentar Ã®n ierarhia 
                    de memorie, unde RAM-ul serveÈ™te ca "cache" pentru disc:
                </p>
                <table class="data-table">
                    <tr><td><strong>Cache</strong></td><td>RAM</td><td>"Rapid"</td></tr>
                    <tr><td><strong>Backing Store</strong></td><td>Disc (swap)</td><td>"Lent"</td></tr>
                    <tr><td><strong>Block Size</strong></td><td>4 KB - 1 GB (pagini)</td><td></td></tr>
                    <tr><td><strong>Mapare</strong></td><td>Complet asociativÄƒ</td><td></td></tr>
                    <tr><td><strong>Ãnlocuire</strong></td><td>LRU aproximat (clock)</td><td></td></tr>
                </table>
            </div>
        </section>

        <section class="section" id="sumar">
            <h2 class="section-title">Rezumat</h2>
            <div class="info-box info-green">
                <p class="info-title">ğŸ“ Puncte Cheie</p>
                <ul class="content-list">
                    <li>Memoria virtualÄƒ oferÄƒ iluzia unui spaÈ›iu de adrese mare È™i privat</li>
                    <li>MMU traduce adresele virtuale Ã®n adrese fizice</li>
                    <li>SpaÈ›iul este Ã®mpÄƒrÈ›it Ã®n pagini (virtuale) È™i frame-uri (fizice)</li>
                    <li>Page table conÈ›ine mapÄƒrile È™i permisiunile</li>
                    <li>Page fault apare cÃ¢nd pagina nu e Ã®n RAM (cost ~ms)</li>
                </ul>
            </div>
        </section>
    </article>

    <script>
        document.querySelectorAll('.accordion-header').forEach(header => {
            header.addEventListener('click', () => {
                const content = header.nextElementSibling;
                const isExpanded = content.classList.contains('expanded');
                header.classList.toggle('active', !isExpanded);
                content.classList.toggle('expanded', !isExpanded);
            });
        });
    </script>
    <script src="../../js/lesson.js"></script>
</body>
</html>
