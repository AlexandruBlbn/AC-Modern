<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>13.1.2 - Localitate TemporalÄƒ È™i SpaÈ›ialÄƒ</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/lesson.css">
</head>
<body>
    <article class="lesson-container">
        <header class="lesson-header">
            <span class="lesson-badge">LecÈ›ia 13.1.2</span>
            <h1 class="lesson-title">Localitate TemporalÄƒ È™i SpaÈ›ialÄƒ</h1>
            <p class="lesson-subtitle">Principiile fundamentale care fac posibilÄƒ eficienÈ›a memoriei cache</p>
        </header>

        <section class="section" id="introducere">
            <h2 class="section-title">Principiul LocalitÄƒÈ›ii</h2>
            <p class="text-content">
                <strong>Principiul localitÄƒÈ›ii</strong> este observaÈ›ia empiricÄƒ fundamentalÄƒ care stÄƒ 
                la baza Ã®ntregii ierarhii de memorie. Acest principiu afirmÄƒ cÄƒ programele tind sÄƒ 
                acceseze o porÈ›iune relativ micÄƒ din spaÈ›iul de adrese la un moment dat, È™i aceastÄƒ 
                porÈ›iune se schimbÄƒ lent Ã®n timp.
            </p>
            
            <p class="text-content">
                ExistÄƒ douÄƒ forme principale ale localitÄƒÈ›ii: <strong>localitatea temporalÄƒ</strong> 
                È™i <strong>localitatea spaÈ›ialÄƒ</strong>. ÃnÈ›elegerea acestor concepte este esenÈ›ialÄƒ 
                pentru proiectarea È™i optimizarea sistemelor de memorie cache.
            </p>
        </section>

        <section class="section" id="temporala">
            <h2 class="section-title">Localitatea TemporalÄƒ</h2>
            
            <div class="definition-box">
                <p class="definition-label">DefiniÈ›ie</p>
                <p class="definition-text">
                    Localitatea temporalÄƒ (Temporal Locality) se referÄƒ la tendinÈ›a programelor de a 
                    accesa aceleaÈ™i locaÈ›ii de memorie Ã®n mod repetat, pe o perioadÄƒ scurtÄƒ de timp. 
                    DacÄƒ o locaÈ›ie de memorie a fost accesatÄƒ recent, este probabil sÄƒ fie accesatÄƒ 
                    din nou Ã®n curÃ¢nd.
                </p>
            </div>

            <p class="text-content">
                Localitatea temporalÄƒ apare frecvent Ã®n urmÄƒtoarele situaÈ›ii:
            </p>

            <ul class="content-list">
                <li><strong>Bucle (loops)</strong> - variabilele de control È™i datele procesate Ã®n bucle sunt accesate repetat</li>
                <li><strong>Variabile locale frecvent folosite</strong> - contoare, acumulatoare, indicatoare</li>
                <li><strong>InstrucÈ›iuni Ã®n bucle</strong> - acelaÈ™i cod este executat de multe ori</li>
                <li><strong>Stiva de execuÈ›ie</strong> - vÃ¢rful stivei este accesat frecvent</li>
            </ul>

            <div class="info-box info-blue">
                <p class="info-title">ğŸ’¡ Exemplu Practic</p>
                <p>
                    Ãntr-o buclÄƒ <code class="code-inline">for (i = 0; i < 1000; i++)</code>, 
                    variabila <code class="code-inline">i</code> este accesatÄƒ de 1000 de ori 
                    Ã®ntr-un interval scurt de timp. Cache-ul exploateazÄƒ acest comportament 
                    pÄƒstrÃ¢nd <code class="code-inline">i</code> Ã®n memoria rapidÄƒ.
                </p>
            </div>

            <h3>Cod Exemplu:</h3>
            <div class="code-block">
<pre>// Exemplu de localitate temporalÄƒ
int suma = 0;                    // suma - acces repetat
for (int i = 0; i < 1000; i++) { // i - acces repetat
    suma += array[i];            // suma actualizatÄƒ Ã®n fiecare iteraÈ›ie
}
// Variabila 'suma' este accesatÄƒ de 1001 ori</pre>
            </div>
        </section>

        <section class="section" id="spatiala">
            <h2 class="section-title">Localitatea SpaÈ›ialÄƒ</h2>
            
            <div class="definition-box">
                <p class="definition-label">DefiniÈ›ie</p>
                <p class="definition-text">
                    Localitatea spaÈ›ialÄƒ (Spatial Locality) se referÄƒ la tendinÈ›a programelor de a 
                    accesa locaÈ›ii de memorie apropiate una de alta. DacÄƒ o locaÈ›ie de memorie este 
                    accesatÄƒ, locaÈ›iile vecine au o probabilitate mare de a fi accesate Ã®n curÃ¢nd.
                </p>
            </div>

            <p class="text-content">
                Localitatea spaÈ›ialÄƒ apare frecvent Ã®n urmÄƒtoarele situaÈ›ii:
            </p>

            <ul class="content-list">
                <li><strong>Parcurgerea secvenÈ›ialÄƒ a array-urilor</strong> - elementele sunt accesate unul dupÄƒ altul</li>
                <li><strong>ExecuÈ›ia secvenÈ›ialÄƒ a instrucÈ›iunilor</strong> - instrucÈ›iunile sunt stocate consecutiv</li>
                <li><strong>Accesul la cÃ¢mpurile unei structuri</strong> - cÃ¢mpurile sunt stocate adiacent</li>
                <li><strong>OperaÈ›ii pe matrici</strong> - elementele pe linie sunt consecutive Ã®n memorie</li>
            </ul>

            <div class="info-box info-blue">
                <p class="info-title">ğŸ’¡ Exemplu Practic</p>
                <p>
                    CÃ¢nd accesÄƒm <code class="code-inline">array[0]</code>, cache-ul aduce un Ã®ntreg 
                    bloc de date (de exemplu, 64 bytes) care include È™i elementele 
                    <code class="code-inline">array[1]</code>, <code class="code-inline">array[2]</code>, 
                    etc. Astfel, accesurile viitoare la aceste elemente vor fi rapide (cache hit).
                </p>
            </div>

            <h3>Cod Exemplu:</h3>
            <div class="code-block">
<pre>// Exemplu de localitate spaÈ›ialÄƒ - BUNÄ‚
for (int i = 0; i < N; i++) {
    for (int j = 0; j < M; j++) {
        suma += matrix[i][j];  // Parcurgere pe linie (secvenÈ›ial Ã®n memorie)
    }
}

// Exemplu de localitate spaÈ›ialÄƒ - SLABÄ‚
for (int j = 0; j < M; j++) {
    for (int i = 0; i < N; i++) {
        suma += matrix[i][j];  // Parcurgere pe coloanÄƒ (salt-uri Ã®n memorie)
    }
}</pre>
            </div>
        </section>

        <section class="section" id="exploatare">
            <h2 class="section-title">Cum ExploateazÄƒ Cache-ul Localitatea?</h2>
            
            <p class="text-content">
                Memoria cache exploateazÄƒ ambele forme de localitate prin mecanisme specifice:
            </p>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>Tip Localitate</th>
                        <th>Mecanism Cache</th>
                        <th>Efect</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>TemporalÄƒ</strong></td>
                        <td>PÄƒstrarea datelor Ã®n cache</td>
                        <td>Datele accesate rÄƒmÃ¢n disponibile pentru accesuri viitoare</td>
                    </tr>
                    <tr>
                        <td><strong>SpaÈ›ialÄƒ</strong></td>
                        <td>Blocuri cache (linii cache)</td>
                        <td>Se aduc mai multe date odatÄƒ, anticipÃ¢nd accesuri viitoare</td>
                    </tr>
                </tbody>
            </table>

            <div class="info-box info-green">
                <p class="info-title">ğŸ”‘ Concept Cheie: Linia de Cache</p>
                <p>
                    O <strong>linie de cache</strong> (sau bloc de cache) este unitatea minimÄƒ de 
                    transfer Ã®ntre cache È™i memoria principalÄƒ. Dimensiunea tipicÄƒ este de 
                    <strong>32-128 bytes</strong>. Acest mecanism exploateazÄƒ localitatea spaÈ›ialÄƒ, 
                    aducÃ¢nd date vecine odatÄƒ cu datele solicitate.
                </p>
            </div>
        </section>

        <section class="section" id="masurare">
            <h2 class="section-title">MÄƒsurarea LocalitÄƒÈ›ii</h2>
            
            <p class="text-content">
                Calitatea localitÄƒÈ›ii unui program poate fi mÄƒsuratÄƒ indirect prin <strong>rata de hit</strong> 
                (hit rate) a cache-ului. O ratÄƒ de hit mare (> 90%) indicÄƒ un program cu bunÄƒ localitate.
            </p>

            <div class="card-grid">
                <div class="info-card">
                    <div class="card-icon">âœ…</div>
                    <h3 class="card-title">Localitate BunÄƒ</h3>
                    <p class="card-text">
                        â€¢ Parcurgeri secvenÈ›iale<br>
                        â€¢ Bucle strÃ¢nse<br>
                        â€¢ Acces regulat la date<br>
                        â€¢ Structuri de date compacte<br>
                        â†’ RatÄƒ hit > 95%
                    </p>
                </div>
                <div class="info-card">
                    <div class="card-icon">âŒ</div>
                    <h3 class="card-title">Localitate SlabÄƒ</h3>
                    <p class="card-text">
                        â€¢ Acces aleatoriu<br>
                        â€¢ Salt-uri mari Ã®n memorie<br>
                        â€¢ Structuri de date Ã®mprÄƒÈ™tiate<br>
                        â€¢ Liste Ã®nlÄƒnÈ›uite cu noduri dispersate<br>
                        â†’ RatÄƒ hit < 80%
                    </p>
                </div>
            </div>
        </section>

        <section class="section" id="sumar">
            <h2 class="section-title">Rezumat</h2>
            <div class="info-box info-green">
                <p class="info-title">ğŸ“ Puncte Cheie</p>
                <ul class="content-list">
                    <li><strong>Localitatea temporalÄƒ:</strong> accesul repetat la aceleaÈ™i date Ã®n timp scurt</li>
                    <li><strong>Localitatea spaÈ›ialÄƒ:</strong> accesul la date aflate la adrese apropiate</li>
                    <li>Cache-ul exploateazÄƒ localitatea temporalÄƒ pÄƒstrÃ¢nd datele recent accesate</li>
                    <li>Cache-ul exploateazÄƒ localitatea spaÈ›ialÄƒ prin linii de cache (blocuri)</li>
                    <li>Scrierea codului care respectÄƒ principiile localitÄƒÈ›ii Ã®mbunÄƒtÄƒÈ›eÈ™te performanÈ›a</li>
                </ul>
            </div>
        </section>
    </article>

    <script>
        document.querySelectorAll('.accordion-header').forEach(header => {
            header.addEventListener('click', () => {
                const content = header.nextElementSibling;
                const isExpanded = content.classList.contains('expanded');
                header.classList.toggle('active', !isExpanded);
                content.classList.toggle('expanded', !isExpanded);
            });
        });
    </script>
    <script src="../../js/lesson.js"></script>
</body>
</html>
